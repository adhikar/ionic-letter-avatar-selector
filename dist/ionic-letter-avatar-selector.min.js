!function(e){e.module("ionicLetterAvatarSelector.constants",[]).constant("IONIC_LETTER_AVATAR_SELECTOR_ICONS",{"delete":ionic.Platform.isAndroid()?"ion-android-delete":"ion-ios-trash",finish:ionic.Platform.isAndroid()?"ion-android-arrow-back":"ion-ios-checkmark-empty"}).constant("IONIC_LETTER_AVATAR_SELECTOR_THEMES",{light:"#fff",stable:"#f8f8f8",positive:"#387ef5",calm:"#11c1f3",balanced:"#33cd5f",energized:"#ffc900",assertive:"#ef473a",royal:"#886aea",dark:"#444"}),e.module("ionicLetterAvatarSelector.values",[]).value("ionicLetterAvatarSelector",{header:void 0,selectionView:void 0}),e.module("ionicLetterAvatarSelector.decorators",[]).decorator("ionItemDirective",["$delegate","$document","$ionicGesture","$ionicHistory","$ionicNavBarDelegate","$ionicLetterAvatarSelector","$ionicLetterAvatarSelectorConfig","$state","ionicLetterAvatarSelector","IONIC_LETTER_AVATAR_SELECTOR_THEMES",function(t,n,i,o,r,a,c,s,l,d){var f=t[0];return f.compile=function(t,f){var u=e.isDefined(f.href)||e.isDefined(f.ngHref)||e.isDefined(f.uiSref),v=u||/ion-(delete|option|reorder)-button/i.test(t.html()),g=e.element(u?"<a></a>":"<div></div>"),h=e.isDefined(f.lettersOf);return v||h?(g.addClass("item-content"),(e.isDefined(f.href)||e.isDefined(f.ngHref))&&(g.attr("ng-href","{{$href()}}"),e.isDefined(f.target)&&g.attr("target","{{$target()}}")),g.append(t.contents()),t.addClass("item item-complex").append(g),v&&t.addClass("item-icon-right"),h&&(t.addClass("item-avatar-left"),g.prepend('<img id="img" ng-src="{{src}}" class="ionic-letter-avatar-selector-animate-img" ng-click="select($event)"/>'))):t.addClass("item"),function(t,f,u){function v(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;6>n;n++)t+=e[Math.floor(16*Math.random())];return t}function g(e){t.$apply(function(){t.select(e)})}function A(e){e||(e=u.border||c.border),_.css("border",e)}function m(e,t){for(var n in R){var i=R[n];i.style&&(i.style.background=e,i.style.border=t)}}function S(){r.title(O),m(l.header.background,l.header.border),c.isAndroid&&k.css("margin-left","10px")}function C(){f.addClass("active"),_.addClass("ng-hide-add"),t.src=N,A("none")}function $(){m(c.selectionColor,"none"),c.isAndroid&&k.css("margin-left","30px")}function p(){f.removeClass("active"),_.removeClass("ng-hide-add"),t.src=I,A()}function b(e){w&&(e.preventDefault(),e.stopPropagation(),E=a.select(u.item),E?C():p(),a.active()&&r.title(a.count()))}function L(t,n,i,o,r){var a;if(t)a="âœ“",o=c.selectionColor,i||(i=1);else{if(i||(i=c.letterNumber),i)a=n.substr(0,i).toUpperCase();else{var s=n.split(" ");i=s.length,i>2&&(i=2),a="";for(var l=0;l<s.length;l++){var f=s[l];f.match(/\w/g)&&a.length<2&&(a+=f.substr(0,1).toUpperCase())}}"random"===o?o=v():o||(o=c.background),d[o]&&(o=d[o])}r||(r=c.color),d[r]&&(r=d[r]);var u=30,g=e.element("<text></text>").attr({"text-anchor":"middle",y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:r,"font-family":"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif"}).html(a).css({"font-weight":400,"font-size":u-5*(i-1)+"px"}),h=e.element("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:50,height:50}).css({width:"50px",height:"50px",background:o});h.append(g);var A=e.element("<div>").append(h.clone()).html();return"data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(A)))}t.$href=function(){return u.href||u.ngHref},t.$target=function(){return u.target};var T=f[0].querySelector(".item-content");if(T&&t.$on("$collectionRepeatLeave",function(){T&&T.$$ionicOptionsOpen&&(T.style[ionic.CSS.TRANSFORM]="",T.style[ionic.CSS.TRANSITION]="none",$$rAF(function(){T.style[ionic.CSS.TRANSITION]=""}),T.$$ionicOptionsOpen=!1)}),h){var E,O,w=(c.isIos||c.isAndroid)&&e.isDefined(u.item),y=i.on("hold",g,f),I=L(!1,u.lettersOf,u.letterNumber,u.background,u.color),N=w?L(!0):null,R=n[0].body.querySelectorAll(".bar-header"),_=e.element(f[0].querySelector("#img")),k=e.element(n[0].body.querySelectorAll(".title"));A(),l.header||(l.header={background:R[0].style.background,border:R[0].style.border}),l.selectionView||(l.selectionView=s.current.name),a.active()||(O=o.currentTitle()),t.src=I,t.select=b,t.$on(a.finished,function(){S(),E&&p()}),t.$on(a.started,$),t.$on("$destroy",function(){i.off(y,"hold",g)}),c.finishOnStateChange?t.$on("$stateChangeStart",a.finish):(t.$on("$stateChangeStart",function(e,t,n,i){a.active()&&i.name===l.selectionView&&S()}),t.$on("$stateChangeSuccess",function(e,t){a.active()&&t.name===l.selectionView&&$()}))}}},t}]),e.module("ionicLetterAvatarSelector.providers",[]).provider("$ionicLetterAvatarSelectorConfig",function(){var e,t="#387ef5",n="none",i="light",o=!1,r=ionic.Platform.isAndroid(),a="#A8A8A8",c=!1;return{setBackground:function(e){t=e},setBorder:function(e){n=e},setColor:function(e){i=e},setFinishOnStateChange:function(e){o=e},setLetterNumber:function(t){e=t},setSelectionAndroid:function(e){r=e},setSelectionColor:function(e){a=e},setSelectionIos:function(e){c=e},$get:function(){return{background:t,border:n,color:i,finishOnStateChange:o,isAndroid:r,isIos:c,letterNumber:e,selectionColor:a}}}}),e.module("ionicLetterAvatarSelector.directives",[]).directive("ilasButtonDelete",["$ionicLetterAvatarSelector","$ionicLetterAvatarSelectorConfig","ionicLetterAvatarSelector","IONIC_LETTER_AVATAR_SELECTOR_ICONS",function(e,t,n,i){return{restrict:"E",replace:!0,template:'<button class="button button-icon {{icon}}"ng-class="{\'ionic-letter-avatar-selector-icon-smaller\': isAndroid}"ng-show="selectionActive && !viewChanged"</button>',link:function(o){o.isAndroid=t.isAndroid,o.icon=i.delete,o.$on(e.stateChanged,function(e,t){o.selectionActive=t}),o.$on("$stateChangeSuccess",function(t,i,r,a){e.active()&&(o.viewChanged=a.name===n.selectionView,o.selectionActive=!0)})}}}]).directive("ilasButtonFinish",["$ionicLetterAvatarSelector","$ionicLetterAvatarSelectorConfig","ionicLetterAvatarSelector","IONIC_LETTER_AVATAR_SELECTOR_ICONS",function(e,t,n,i){return{restrict:"E",replace:!0,template:'<button class="button button-icon {{icon}}"ng-class="{\'ionic-letter-avatar-selector-icon-smaller\': isAndroid}"ng-show="selectionActive && !viewChanged"ng-click="finish()"></button>',link:function(o){o.finish=e.finish,o.isAndroid=t.isAndroid,o.icon=i.finish,o.$on(e.stateChanged,function(e,t){o.selectionActive=t}),o.$on("$stateChangeSuccess",function(t,i,r,a){e.active()&&(o.viewChanged=a.name===n.selectionView)})}}}]),e.module("ionicLetterAvatarSelector.services",[]).factory("$ionicLetterAvatarSelector",["$rootScope",function(t){var n=this,i=[],o=!1;return n.started="ionicLetterAvatarSelector.started",n.finished="ionicLetterAvatarSelector.finished",n.stateChanged="ionicLetterAvatarSelector.stateChanged",n.active=function(){return i.length>0},n.finish=function(){i.length>0&&(i=[]),t.$broadcast(n.finished),t.$broadcast(n.stateChanged,!1)},n.count=function(){return i.length},n.getData=function(){return i.forEach(function(t,n){i[n]=JSON.parse(t,function(t,n){return e.isString(n)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(n)?new Date(n):n})}),i},n.select=function(e){var r=i.length,a=i.indexOf(e);-1===a?i.push(e):i.splice(a,1);var c=i.length;return o=0===r&&1===c,o&&(t.$broadcast(n.started),t.$broadcast(n.stateChanged,!0)),n.active()||(t.$broadcast(n.finished),t.$broadcast(n.stateChanged,!1)),-1!==i.indexOf(e)},n}]),e.module("ionicLetterAvatarSelector",["ionicLetterAvatarSelector.constants","ionicLetterAvatarSelector.decorators","ionicLetterAvatarSelector.directives","ionicLetterAvatarSelector.providers","ionicLetterAvatarSelector.services","ionicLetterAvatarSelector.values"])}(angular);